# ⚡ 快速调整参考

## 📝 最近更新

### 新增功能
- ✅ **多段跳跃** - 按住 Space 持续上升（最多 3 段）
- ✅ **抛体运动** - 松开 Space 时开始下落
- ✅ 跳跃次数显示在 UI 上（显示为 "X/3"）
- ✅ 着陆时自动重置跳跃计数

### 修复内容
- ✅ 添加了地面平面，玩家现在可以在地面上跳跃
- ✅ 场景模型自动对齐到地面（Y=0）
- ✅ Space 键现在正确用于跳跃
- ✅ 改进了键盘事件处理

---

## 🎮 常见调整

### 1. 场景太小/太大？

**编辑**: `src/main.js` 第 142 行

```javascript
const scaleAmount = 5;  // 改这个数字
```

**推荐值**:
- `1` - 原始大小（太小）
- `3` - 3 倍大小（中等）
- `5` - 5 倍大小（推荐，当前值）
- `10` - 10 倍大小（很大）

---

### 2. 玩家移动太快/太慢？

**编辑**: `src/main.js` 第 25 行

```javascript
speed: 0.25,  // 改这个数字
```

**推荐值**:
- `0.15` - 很慢
- `0.25` - 正常（当前值）
- `0.35` - 很快
- `0.5` - 非常快

---

### 3. 跳跃太高/太低？

**编辑**: `src/main.js` 第 26 行

```javascript
jumpForce: 0.5,  // 改这个数字
```

**推荐值**:
- `0.3` - 很低
- `0.5` - 正常（当前值）
- `0.7` - 很高
- `1.0` - 非常高

---

### 4. 重力太强/太弱？

**编辑**: `src/main.js` 第 10 行

```javascript
scene.gravity = new BABYLON.Vector3(0, -0.9, 0);  // 改 0.9
```

**推荐值**:
- `-0.5` - 很弱（浮动感）
- `-0.9` - 正常（当前值）
- `-1.2` - 很强（下沉感）
- `-1.5` - 非常强

---

### 5. 碰撞检测太灵敏/不灵敏？

**编辑**: `src/main.js` 第 170 行

```javascript
const horizontalRayLength = playerState.playerRadius + 0.1;  // 改 0.1
```

**推荐值**:
- `+ 0.05` - 紧贴物体
- `+ 0.1` - 正常（当前值）
- `+ 0.2` - 提前检测
- `+ 0.3` - 很提前

---

### 6. 鼠标控制太灵敏/不灵敏？

**编辑**: `src/main.js` 第 106 行

```javascript
camera.angularSensibility = 1000;  // 改这个数字
```

**推荐值**:
- `500` - 很灵敏
- `1000` - 正常（当前值）
- `1500` - 不灵敏
- `2000` - 很不灵敏

---

### 7. 第三人称摄像机距离？

**编辑**: `src/main.js` 第 209 行

```javascript
const cameraDistance = 4;  // 改这个数字
```

**推荐值**:
- `2` - 很近
- `4` - 正常（当前值）
- `6` - 很远
- `8` - 非常远

---

### 8. 第三人称摄像机高度？

**编辑**: `src/main.js` 第 210 行

```javascript
const cameraHeight = 1.5;  // 改这个数字
```

**推荐值**:
- `1.0` - 低视角
- `1.5` - 正常（当前值）
- `2.0` - 高视角
- `3.0` - 非常高

---

### 9. 多段跳跃次数？

**编辑**: `src/main.js` 第 33 行

```javascript
maxJumps: 3,  // 改这个数字
```

**推荐值**:
- `1` - 单次跳跃（经典模式）
- `2` - 双段跳跃
- `3` - 三段跳跃（当前值，推荐）
- `5` - 五段跳跃（非常高）

### 10. 多段跳跃的跳跃力度？

**编辑**: `src/main.js` 第 26 行

```javascript
jumpForce: 0.5,  // 改这个数字
```

**推荐值**:
- `0.3` - 很低（需要多次跳跃才能上升）
- `0.5` - 正常（当前值）
- `0.7` - 很高（每次跳跃上升很多）
- `1.0` - 非常高

---

## 🎯 快速调整模板

### 场景太小，想放大到 10 倍

```javascript
// src/main.js 第 142 行
const scaleAmount = 10;  // 改为 10
```

### 玩家移动太快，想减速

```javascript
// src/main.js 第 25 行
speed: 0.15,  // 改为 0.15
```

### 想要更高的跳跃

```javascript
// src/main.js 第 26 行
jumpForce: 0.8,  // 改为 0.8
```

### 想要更强的重力

```javascript
// src/main.js 第 10 行
scene.gravity = new BABYLON.Vector3(0, -1.5, 0);  // 改为 -1.5
```

### 想要更灵敏的鼠标

```javascript
// src/main.js 第 106 行
camera.angularSensibility = 500;  // 改为 500
```

---

## 📊 参数对照表

| 参数 | 位置 | 当前值 | 范围 | 效果 |
|------|------|--------|------|------|
| 场景缩放 | 142 | 5 | 1-20 | 越大越清晰 |
| 移动速度 | 25 | 0.25 | 0.1-0.5 | 越大越快 |
| 跳跃力度 | 26 | 0.5 | 0.2-1.0 | 越大越高 |
| 重力强度 | 10 | -0.9 | -0.5 到 -2.0 | 越小越弱 |
| 碰撞范围 | 170 | +0.1 | +0.05 到 +0.3 | 越大越提前 |
| 鼠标灵敏 | 106 | 1000 | 500-2000 | 越小越灵敏 |
| 摄像机距离 | 209 | 4 | 2-10 | 越大越远 |
| 摄像机高度 | 210 | 1.5 | 0.5-3.0 | 越大越高 |

---

## 🔄 修改步骤

1. **打开文件**
   ```
   C:\Users\23157\CODE\Web3\3Dtest\src\main.js
   ```

2. **找到要修改的行**
   - 使用 Ctrl+G 跳转到指定行
   - 或使用 Ctrl+F 搜索参数名

3. **修改数值**
   ```javascript
   // 修改前
   speed: 0.25,
   
   // 修改后
   speed: 0.35,
   ```

4. **保存文件**
   - Ctrl+S 保存

5. **刷新浏览器**
   - F5 或 Ctrl+R 刷新
   - 或关闭浏览器重新打开

6. **测试效果**
   - 在游戏中测试新的参数

---

## 💡 调整建议

### 如果游戏太难
- 增加 `speed` (移动更快)
- 增加 `jumpForce` (跳跃更高)
- 减少 `gravity` 的绝对值 (下落更慢)

### 如果游戏太简单
- 减少 `speed` (移动更慢)
- 减少 `jumpForce` (跳跃更低)
- 增加 `gravity` 的绝对值 (下落更快)

### 如果场景看不清
- 增加 `scaleAmount` (放大场景)
- 增加 `cameraDistance` (拉远摄像机)

### 如果控制不舒服
- 减少 `camera.angularSensibility` (鼠标更灵敏)
- 增加 `camera.angularSensibility` (鼠标更迟钝)

---

## 🎮 推荐配置

### 竞速模式（快速移动）
```javascript
speed: 0.4,
jumpForce: 0.7,
scaleAmount: 3,
```

### 探索模式（缓慢移动）
```javascript
speed: 0.15,
jumpForce: 0.4,
scaleAmount: 8,
```

### 平衡模式（推荐）
```javascript
speed: 0.25,
jumpForce: 0.5,
scaleAmount: 5,
```

### 困难模式（高难度）
```javascript
speed: 0.1,
jumpForce: 0.3,
gravity: -1.5,
```

---

## ⚠️ 注意事项

### 修改时要小心
- 不要删除整行代码
- 只修改数值部分
- 保留逗号和分号

### 错误示例 ❌
```javascript
speed: 0.25,  // 错误：删除了逗号
speed 0.25,   // 错误：删除了冒号
```

### 正确示例 ✅
```javascript
speed: 0.35,  // 正确：只改数值
speed: 0.15,  // 正确：保留逗号
```

---

## 🔍 如何找到参数

### 方法 1: 使用 Ctrl+G 跳转
1. 按 Ctrl+G
2. 输入行号（如 25）
3. 按 Enter

### 方法 2: 使用 Ctrl+F 搜索
1. 按 Ctrl+F
2. 输入参数名（如 "speed"）
3. 按 Enter 找到

### 方法 3: 手动查找
1. 打开 `src/main.js`
2. 向下滚动找到参数
3. 修改数值

---

## 📝 修改记录

记录你的修改，方便以后参考：

```
日期: 2025-11-14
修改: 场景缩放从 5 改为 10
效果: 场景更清晰
```

---

## 🆘 遇到问题？

### 游戏不启动
- 检查语法是否正确
- 查看浏览器控制台的错误信息
- 恢复原始值重试

### 修改没有生效
- 确保保存了文件
- 刷新浏览器（F5）
- 清除浏览器缓存

### 游戏崩溃
- 检查数值是否太极端
- 使用推荐值重试
- 查看控制台错误

---

**快速调整参考完成！** ⚡

现在你可以轻松调整游戏参数了！
