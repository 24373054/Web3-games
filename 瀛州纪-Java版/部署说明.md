# 瀛州纪 Java版 - 部署说明

## ✅ 编译成功！

项目已成功编译并打包。JAR文件位置：
```
target/yingzhou-java-1.0.jar
```

文件大小：约 50MB（包含所有依赖）

## 🚨 重要提示

**Java版需要图形界面才能运行！**

由于你当前在Ubuntu服务器上（无图形界面），Java版无法直接运行。

## 📦 两种使用方式

### 方式1：在本地电脑上运行（推荐）

#### Windows电脑：

1. **下载JAR文件到本地**
   ```bash
   # 在本地电脑上运行（使用scp或其他方式下载）
   scp ubuntu@你的服务器IP:~/yz/Web3/游戏/瀛州纪v1.0/Web3-games/瀛州纪-Java版/target/yingzhou-java-1.0.jar ./
   ```

2. **安装Java 17+**
   - 下载：https://www.oracle.com/java/technologies/downloads/
   - 或使用：https://adoptium.net/

3. **运行游戏**
   ```bash
   java -jar yingzhou-java-1.0.jar
   ```

#### Mac电脑：

1. **下载JAR文件**（同上）

2. **安装Java**
   ```bash
   brew install openjdk@17
   ```

3. **运行游戏**
   ```bash
   java -jar yingzhou-java-1.0.jar
   ```

### 方式2：在服务器上继续使用Web3版

Web3版本已经在运行，可以直接在浏览器中访问：
```
http://你的服务器IP:3000
```

## 🎮 版本选择功能

当你在本地电脑运行Java版时：

1. **启动游戏**
   ```bash
   java -jar yingzhou-java-1.0.jar
   ```

2. **版本选择界面**
   - 会显示两个选项：
     - **原版（Web3）** - 点击后打开浏览器访问服务器
     - **Java版** - 点击后启动本地3D游戏

3. **配置Web3版URL**
   - 如果需要修改Web3版的URL，编辑：
   - `VersionSelector.java` 中的 `WEB3_URL` 常量
   - 改为你的服务器地址：`http://你的服务器IP:3000`

## 📋 文件清单

```
瀛州纪-Java版/
├── target/
│   └── yingzhou-java-1.0.jar    ← 可执行JAR文件（约50MB）
├── src/                          ← 源代码
├── pom.xml                       ← Maven配置
├── README.md                     ← 项目说明
├── 快速开始.md                   ← 快速开始指南
├── 开发指南.md                   ← 开发文档
└── 部署说明.md                   ← 本文件
```

## 🔧 重新编译

如果需要修改代码后重新编译：

```bash
cd 瀛州纪-Java版
mvn clean package -DskipTests
```

## 💡 建议

### 对于开发者：
- 在本地电脑上开发和测试Java版
- 使用IDE（IntelliJ IDEA或Eclipse）
- 服务器上只运行Web3版

### 对于玩家：
- **推荐使用Web3版**（浏览器访问，无需安装）
- 如果想要本地体验，下载Java版到电脑运行

## 🌐 Web3版访问

确保Web3版正在运行：

```bash
cd ~/yz/Web3/游戏/瀛州纪v1.0/Web3-games/瀛州纪
npm run dev
```

然后在浏览器访问：
```
http://localhost:3000  （本地）
http://服务器IP:3000   （远程）
```

## ❓ 常见问题

### Q: 为什么Java版不能在服务器上运行？

A: JavaFX需要图形界面（X11或Wayland），服务器通常没有。可以：
- 在本地电脑运行Java版
- 或在服务器上只使用Web3版

### Q: 如何在服务器上配置图形界面？

A: 不推荐。配置复杂且消耗资源。建议：
- 服务器运行Web3版
- 本地电脑运行Java版

### Q: JAR文件可以分享给其他人吗？

A: 可以！只要对方安装了Java 17+，就能运行。

## 📞 获取帮助

如果遇到问题：
1. 查看日志：`logs/yingzhou.log`
2. 检查Java版本：`java -version`（需要17+）
3. 查看README.md和开发指南.md

---

**总结：**
- ✅ 编译成功
- ✅ JAR文件已生成
- ⚠️ 需要在有图形界面的电脑上运行
- 💡 推荐：服务器运行Web3版，本地运行Java版

祝你游戏愉快！🎮
